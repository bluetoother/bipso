# BIPSO Specification

## Why BIPSO?  

With BLE, manufacturers can build up their application quickly and flexibly by using the SIG-defined Characteristics or by their own private GATT definitions, but sacrifices compatibility between BLE products. 

_Imagine a scenario that you are a BLE light bulb user, you've got some in your home, and you are happy to control lights by your smartphone APP._  
_Today, a bulb is broken and you're going to buy a new one for change. You find no bulb as same brand as those in your house, and you make your mind to buy a new one manufacturered by another brand. When you are home, install the new one on the wall, and you find that your current APP is just not working for the new one. Then, you download a specific APP for your new bulb, and now it's working. Soon, you find that switching APPs for controlling those lights is kind of annoying, that is not cool. You feel so frustrated with your BLE lights and, of course, your smartphone BLE APPs._  

BIPSO Specification is born to solve this problem, it defines a set of BLE Characteristic that follows the IPSO Smart Object Guideline([Smart Objects Starter Pack1.0](http://www.ipso-alliance.org/smart-object-guidelines/) and [Smart Objects Expansion Pack](http://www.ipso-alliance.org/so-expansion-pack/)) for developers to build their applications with consistency. What BIPSO is doing is to trying to let you operate all BLE gadgets with only a single smartphone APP, and let BLE gadgets be IPSO-compatible.  

## BIPSO Characteristics  

In BIPSO, each IPSO Smart Object is defined as a BLE **Characteristic**, and **Characteristic Value** is a piece of data containing Resources on a Smart Object.  
The following table are cross-references between the IPSO Smart Object and BIPSO Characteristic UUID, each column in this table is:  

* IPSO Object  
    * Object name and its numeric ID defined by IPSO Alliance.  
* IPSO Object ID  
    * IPSO Object identifier in string.  
* Characteristic UUID
    * BIPSO-defined Characteristic UUID corresponding to the IPSO Object.
* Fields
    * Characteristic Value is an object formed from these fields.  
    * A Field of `fieldName(fieldType)` indicates that field name of characteristic value object and tells the data type.
    * Fields are divided into mandatory and optional, the mandatory field using bold typeface to represent, or it will be optional.
        * **flags** is used to indicate which optional parameters to use, it is bit mask, each bit represent a optional field.
        * Let's take `Digital Input Object` as an example
            * if flags = 3, `counter` and `dInPolarity` will exist.
            * if flags = 32, `appType` will exist.
            * if flags = 65, `counter` and `sensorType` will exist.


| IPSO Object                       | IPSO Object ID         | Characteristic UUID | Fields                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|-----------------------------------|------------------------|---------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Digital Input (3200)              | dIn                    | 0xcc00              | **flags(uint8)**, **dInState(boolean)**, counter(uint8), dInPolarity(boolean), debouncePeriod(uint16), edgeSelection(uint8), counterReset(buffer), appType(string), sensorType(string)                                                                                                                                                                                                                                                                                      |
| Digital Output (3201)             | dOut                   | 0xcc01              | **flags(uint8)**, **dOutState(boolean)**, dOutPolarity(boolean), appType(string)                                                                                                                                                                                                                                                                                                                                                                                            |
| Analogue Input (3202)             | aIn                    | 0xcc02              | **flags(uint8)**, **aInCurrValue(float)**, minMeaValue(float), maxMeaValue(float), minRangeValue(float), maxRangeValue(float), resetMinMaxMeaValues(buffer), appType(string), sensorType(string)                                                                                                                                                                                                                                                                            |
| Analogue Output (3203)            | aOut                   | 0xcc03              | **flags(uint8)**, **aOutCurrValue(float)**, minRangeValue(float), maxRangeValue(float), appType(string)                                                                                                                                                                                                                                                                                                                                                                     |
| Generic Sensor (3300)             | generic                | 0xcc04              | **flags(uint8)**, **sensorValue(float)**, units(string), minMeaValue(float), maxMeaValue(float), minRangeValue(float), maxRangeValue(float), resetMinMaxMeaValues(buffer), appType(string), sensorType(string)                                                                                                                                                                                                                                                              |
| Illuminance Sensor (3301)         | illuminance            | 0xcc05              | **flags(uint8)**, **sensorValue(float)**, units(string), minMeaValue(float), maxMeaValue(float), minRangeValue(float), maxRangeValue(float), resetMinMaxMeaValues(buffer)                                                                                                                                                                                                                                                                                                   |
| Presence Sensor (3302)            | presence               | 0xcc06              | **flags(uint8)**, **dInState(boolean)**, counter(uint8), counterReset(buffer), sensorType(string), busyToClearDelay(uint16), clearToBusyDelay(uint16)                                                                                                                                                                                                                                                                                                                       |
| Temperature Sensor (3303)         | temperature            | 0xcc07              | **flags(uint8)**, **sensorValue(float)**, units(string), minMeaValue(float), maxMeaValue(float), minRangeValue(float), maxRangeValue(float), resetMinMaxMeaValues(buffer)                                                                                                                                                                                                                                                                                                   |
| Humidity Sensor (3304)            | humidity               | 0xcc08              | **flags(uint8)**, **sensorValue(float)**, units(string), minMeaValue(float), maxMeaValue(float), minRangeValue(float), maxRangeValue(float), resetMinMaxMeaValues(buffer)                                                                                                                                                                                                                                                                                                   |
| Power Measurement (3305)          | pwrMea                 | 0xcc09              | **flags(uint32)**, **instActivePwr(float)**, minMeaActivePwr(float), maxMeaActivePwr(float), minRangeActivePwr(float), maxRangeActivePwr(float), cumulActivePwr(float), activePwrCal(float), instReactivePwr(float), minMeaReactivePwr(float), maxMeaReactivePwr(float), minRangeReactivePwr(float), maxRangeReactivePwr(float), resetMinMaxMeaValues(buffer), cumulReactivePwr(float), reactivePwrCal(float), pwrFactor(float), currCal(float), resetCumulEnergy(buffer)   |
| Actuation (3306)                  | actuation              | 0xcc0a              | **flags(uint8)**, **onOff(boolean)**, dimmer(uint8), onTime(uint16), mStateOut(string), appType(string)                                                                                                                                                                                                                                                                                                                                                                     |
| Set Point (3308)                  | setPoint               | 0xcc0b              | **flags(uint8)**, **setPointValue(float)**, colour(string), units(string), appType(string)                                                                                                                                                                                                                                                                                                                                                                                  |
| Load Control (3310)               | loadCtrl               | 0xcc0c              | **flags(uint8)**, **eventId(string)**, **startTime(uint32)**, **durationInMin(uint16)**, criticalLevel(uint8), avgLoadAdjPct(uint8), dutyCycle(uint8)                                                                                                                                                                                                                                                                                                                       |
| Light Control (3311)              | lightCtrl              | 0xcc0d              | **flags(uint8)**, **onOff(boolean)**, dimmer(uint8), colour(string), units(string), onTime(uint16), cumulActivePwr(float), pwrFactor(float)                                                                                                                                                                                                                                                                                                                                 |
| Power Control (3312)              | pwrCtrl                | 0xcc0e              | **flags(uint8)**, **onOff(boolean)**, dimmer(uint8), onTime(uint16), cumulActivePwr(float), pwrFactor(float)                                                                                                                                                                                                                                                                                                                                                                |
| Accelerometer (3313)              | accelerometer          | 0xcc0f              | **flags(uint8)**, **xValue(float)**, yValue(float), zValue(float), units(string), minRangeValue(float), maxRangeValue(float)                                                                                                                                                                                                                                                                                                                                                |
| Magnetometer (3314)               | magnetometer           | 0xcc10              | **flags(uint8)**, **xValue(float)**, yValue(float), zValue(float), units(string), compassDir(float)                                                                                                                                                                                                                                                                                                                                                                         |
| Barometer (3315)                  | barometer              | 0xcc11              | **flags(uint8)**, **sensorValue(float)**, units(string), minMeaValue(float), maxMeaValue(float), minRangeValue(float), maxRangeValue(float), resetMinMaxMeaValues(buffer)                                                                                                                                                                                                                                                                                                   |
| Voltage (3316)                    | voltage                | 0xcc12              | **flags(uint8)**, **sensorValue(float)**, units(string), minMeaValue(float), maxMeaValue(float), minRangeValue(float), maxRangeValue(float), resetMinMaxMeaValues(buffer), calOffset(float), appType(string)                                                                                                                                                                                                                                                                |
| Current (3317)                    | current                | 0xcc13              | **flags(uint8)**, **sensorValue(float)**, units(string), minMeaValue(float), maxMeaValue(float), minRangeValue(float), maxRangeValue(float), resetMinMaxMeaValues(buffer), calOffset(float), appType(string)                                                                                                                                                                                                                                                                |
| Frequency (3318)                  | frequency              | 0xcc14              | **flags(uint8)**, **sensorValue(float)**, units(string), minMeaValue(float), maxMeaValue(float), minRangeValue(float), maxRangeValue(float), resetMinMaxMeaValues(buffer), calOffset(float), appType(string)                                                                                                                                                                                                                                                                |
| Depth (3319)                      | depth                  | 0xcc15              | **flags(uint8)**, **sensorValue(float)**, units(string), minMeaValue(float), maxMeaValue(float), minRangeValue(float), maxRangeValue(float), resetMinMaxMeaValues(buffer), calOffset(float), appType(string)                                                                                                                                                                                                                                                                |
| Percentage (3320)                 | percentage             | 0xcc16              | **flags(uint8)**, **sensorValue(float)**, units(string), minMeaValue(float), maxMeaValue(float), minRangeValue(float), maxRangeValue(float), resetMinMaxMeaValues(buffer), calOffset(float), appType(string)                                                                                                                                                                                                                                                                |
| Altitude (3321)                   | altitude               | 0xcc17              | **flags(uint8)**, **sensorValue(float)**, units(string), minMeaValue(float), maxMeaValue(float), minRangeValue(float), maxRangeValue(float), resetMinMaxMeaValues(buffer), calOffset(float), appType(string)                                                                                                                                                                                                                                                                |
| Load (3322)                       | load                   | 0xcc18              | **flags(uint8)**, **sensorValue(float)**, units(string), minMeaValue(float), maxMeaValue(float), minRangeValue(float), maxRangeValue(float), resetMinMaxMeaValues(buffer), calOffset(float), appType(string)                                                                                                                                                                                                                                                                |
| Pressure (3323)                   | pressure               | 0xcc19              | **flags(uint8)**, **sensorValue(float)**, units(string), minMeaValue(float), maxMeaValue(float), minRangeValue(float), maxRangeValue(float), resetMinMaxMeaValues(buffer), calOffset(float), appType(string)                                                                                                                                                                                                                                                                |
| Loudness (3324)                   | loudness               | 0xcc1a              | **flags(uint8)**, **sensorValue(float)**, units(string), minMeaValue(float), maxMeaValue(float), minRangeValue(float), maxRangeValue(float), resetMinMaxMeaValues(buffer), calOffset(float), appType(string)                                                                                                                                                                                                                                                                |
| Concentration (3325)              | concentration          | 0xcc1b              | **flags(uint8)**, **sensorValue(float)**, units(string), minMeaValue(float), maxMeaValue(float), minRangeValue(float), maxRangeValue(float), resetMinMaxMeaValues(buffer), calOffset(float), appType(string)                                                                                                                                                                                                                                                                |
| Acidity (3326)                    | acidity                | 0xcc1c              | **flags(uint8)**, **sensorValue(float)**, units(string), minMeaValue(float), maxMeaValue(float), minRangeValue(float), maxRangeValue(float), resetMinMaxMeaValues(buffer), calOffset(float), appType(string)                                                                                                                                                                                                                                                                |
| Conductivity (3327)               | conductivity           | 0xcc1d              | **flags(uint8)**, **sensorValue(float)**, units(string), minMeaValue(float), maxMeaValue(float), minRangeValue(float), maxRangeValue(float), resetMinMaxMeaValues(buffer), calOffset(float), appType(string)                                                                                                                                                                                                                                                                |
| Power (3328)                      | power                  | 0xcc1e              | **flags(uint8)**, **sensorValue(float)**, units(string), minMeaValue(float), maxMeaValue(float), minRangeValue(float), maxRangeValue(float), resetMinMaxMeaValues(buffer), calOffset(float), appType(string)                                                                                                                                                                                                                                                                |
| Power Factor (3329)               | powerFactor            | 0xcc1f              | **flags(uint8)**, **sensorValue(float)**, units(string), minMeaValue(float), maxMeaValue(float), minRangeValue(float), maxRangeValue(float), resetMinMaxMeaValues(buffer), calOffset(float), appType(string)                                                                                                                                                                                                                                                                |
| Distance (3330)                   | distance               | 0xcc20              | **flags(uint8)**, **sensorValue(float)**, units(string), minMeaValue(float), maxMeaValue(float), minRangeValue(float), maxRangeValue(float), resetMinMaxMeaValues(buffer), calOffset(float), appType(string)                                                                                                                                                                                                                                                                |
| Energy (3331)                     | energy                 | 0xcc21              | **flags(uint8)**, **sensorValue(float)**, units(string), resetCumulEnergy(buffer), appType(string)                                                                                                                                                                                                                                                                                                                                                                          |
| Direction (3332)                  | direction              | 0xcc22              | **flags(uint8)**, **compassDir(float)**, minMeaValue(float), maxMeaValue(float), resetMinMaxMeaValues(buffer), appType(string)                                                                                                                                                                                                                                                                                                                                              |
| Time (3333)                       | time                   | 0xcc23              | **flags(uint8)**, **currentTime(uint32)**, fracTime(float), appType(string)                                                                                                                                                                                                                                                                                                                                                                                                 |
| Gyrometer (3334)                  | gyrometer              | 0xcc24              | **flags(uint8)**, **xValue(float)**, yValue(float), zValue(float), units(string), minXValue(float), maxXValue(float), minYValue(float), maxYValue(float), minZValue(float), maxZValue(float), resetMinMaxMeaValues(buffer), minRangeValue(float), maxRangeValue(float), appType(string)                                                                                                                                                                                     |
| Color (3335)                      | color                  | 0xcc25              | **flags(uint8)**, **colour(string)**, units(string), appType(string)                                                                                                                                                                                                                                                                                                                                                                                                        |
| GPS Location (3336)               | gpsLocation            | 0xcc26              | **flags(uint8)**, **latitude(string)**, **longitude(string)**, altitude(string), uncertainty(string), compassDir(float), velocity(buffer), timestamp(uint32), appType(string)                                                                                                                                                                                                                                                                                               |
| Positioner (3337)                 | positioner             | 0xcc27              | **flags(uint8)**, **currentPos(float)**, transTime(float), remainTime(float), minMeaValue(float), maxMeaValue(float), resetMinMaxMeaValues(buffer), minLimit(float), maxLimit(float), appType(string)                                                                                                                                                                                                                                                                       |
| Buzzer (3338)                     | buzzer                 | 0xcc28              | **flags(uint8)**, **onOff(boolean)**, **minOffTime(float)**, level(float), timeDuration(float), appType(string)                                                                                                                                                                                                                                                                                                                                                             |
| Audio Clip (3339)                 | audioClip              | 0xcc29              | **flags(uint8)**, **clip(buffer)**, trigger(buffer), level(float), soundDuration(float), appType(string)                                                                                                                                                                                                                                                                                                                                                                    |
| Timer (3340)                      | timer                  | 0xcc2a              | **flags(uint8)**, **timeDuration(float)**, remainTime(float), minOffTime(float), trigger(buffer), onOff(boolean), counter(uint8), cumulTime(float), digitalState(boolean), eventCounter(uint8), mode(uint8), appType(string)                                                                                                                                                                                                                                                |
| Addressable Text Display (3341)   | addressableTextDisplay | 0xcc2b              | **flags(uint8)**, **text(string)**, xCoord(uint16), yCoord(uint16), maxXCoord(uint16), maxYCoord(uint16), clearDisplay(buffer), level(float), contrast(float), appType(string)                                                                                                                                                                                                                                                                                              |
| On/Off Switch (3342)              | onOffSwitch            | 0xcc2c              | **flags(uint8)**, **dInState(boolean)**, counter(uint8), onTime(uint16), offTime(uint16), appType(string)                                                                                                                                                                                                                                                                                                                                                                   |
| Level Control (3343)              | levelControl           | 0xcc2d              | **flags(uint8)**, level(float), onTime(uint16), offTime(uint16), appType(string)                                                                                                                                                                                                                                                                                                                                                                                            |
| Up/Down Control (3344)            | upDownControl          | 0xcc2e              | **flags(uint8)**, incInputState(boolean), decInputState(boolean), upCounter(uint8), downCounter(uint8), appType(string)                                                                                                                                                                                                                                                                                                                                                     |
| Multiple Axis Joystick (3345)     | multipleAxisJoystick   | 0xcc2f              | **flags(uint8)**, dInState(boolean), counter(uint8), xValue(float), yValue(float), zValue(float), appType(string)                                                                                                                                                                                                                                                                                                                                                           |
| Rate (3346)                       | rate                   | 0xcc30              | **flags(uint8)**, **sensorValue(float)**, units(string), minMeaValue(float), maxMeaValue(float), minRangeValue(float), maxRangeValue(float), resetMinMaxMeaValues(buffer), calOffset(float), appType(string)                                                                                                                                                                                                                                                                |
| Push Button (3347)                | pushButton             | 0xcc31              | **flags(uint8)**, **dInState(boolean)**, counter(uint8), appType(string)                                                                                                                                                                                                                                                                                                                                                                                                    |
| Multistate Selector (3348)        | multistateSelector     | 0xcc32              | **flags(uint8)**, **mStateIn(uint8)**, appType(string)                                                                                                                                                                                                                                                                                                                                                                                                                      |
